/* Mode sombre pour ReDoc - Thème inspiré de ModernStyle.Dark */
:root {
    /* Thème Clair (par défaut) */
    --light-primary: #ffffff;
    --light-secondary: #fafafa;
    --light-third: #f3f3f3;
    --light-text: #333333;
    --light-text-secondary: #666666;
    --light-border: #e0e0e0;
    --light-accent: #0088ce;
    --light-accent-secondary: #3898ec;
    --light-header: #f8f9fa;
    --light-code-bg: #f8f9fa;
    --light-sidebar: #fafafa;
    
    /* Thème Sombre */
    --dark-primary: #1a1a1a;
    --dark-secondary: #252525;
    --dark-third: #2d2d2d;
    --dark-text: #e0e0e0;
    --dark-text-secondary: #b0b0b0;
    --dark-border: #414141;
    --dark-accent: #4990e2;
    --dark-accent-secondary: #5a9de4;
    --dark-header: #202020;
    --dark-code-bg: #2d2d2d;
    --dark-sidebar: #202020;
    --dark-scrollbar-thumb: #666;
    --dark-scrollbar-track: #333;
    --dark-method-get: #3b82f6;
    --dark-method-post: #22c55e;
    --dark-method-delete: #ef4444;
    --dark-method-put: #f59e0b;
    --dark-method-patch: #06b6d4;
}

/* Base pour le mode sombre */
body.dark-mode {
    background-color: var(--dark-primary);
    color: var(--dark-text);
}

/* ScrollBar custom pour le mode sombre */
body.dark-mode ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

body.dark-mode ::-webkit-scrollbar-track {
    background: var(--dark-scrollbar-track);
    border-radius: 4px;
}

body.dark-mode ::-webkit-scrollbar-thumb {
    background: var(--dark-scrollbar-thumb);
    border-radius: 4px;
}

body.dark-mode ::-webkit-scrollbar-thumb:hover {
    background: #888;
}

/* Sidebar */
body.dark-mode div[role="navigation"],
body.dark-mode div[data-role="redoc-scroll"],
body.dark-mode div[data-component="ApiLogo"],
body.dark-mode div.menu-content {
    background-color: var(--dark-sidebar) !important;
    color: var(--dark-text) !important;
    border-right: 1px solid var(--dark-border) !important;
}

body.dark-mode div.menu-content label {
    color: var(--dark-text-secondary) !important;
}

body.dark-mode div.menu-content div[role="menuitem"] {
    color: var(--dark-text) !important;
}

body.dark-mode div.menu-content div[role="menuitem"]:hover {
    background-color: var(--dark-third) !important;
}

body.dark-mode div.menu-content div[role="menuitem"][aria-selected="true"] {
    background-color: rgba(73, 144, 226, 0.1) !important;
}

body.dark-mode div.menu-content a {
    color: var(--dark-accent) !important;
}

/* Barre de recherche */
body.dark-mode div[role="search"],
body.dark-mode div[role="search"] input {
    background-color: var(--dark-third) !important;
    color: var(--dark-text) !important;
    border-color: var(--dark-border) !important;
}

body.dark-mode div[role="search"] input::placeholder {
    color: var(--dark-text-secondary) !important;
}

/* Logo API */
body.dark-mode redoc::part(api-logo) img {
    filter: brightness(0.9) contrast(1.1);
}

/* Contenu principal */
body.dark-mode div[role="main"],
body.dark-mode article,
body.dark-mode section {
    background-color: var(--dark-primary) !important;
    color: var(--dark-text) !important;
}

body.dark-mode h1, 
body.dark-mode h2, 
body.dark-mode h3, 
body.dark-mode h4, 
body.dark-mode h5, 
body.dark-mode h6 {
    color: var(--dark-text) !important;
}

body.dark-mode p, 
body.dark-mode span:not([class*="method"]),
body.dark-mode div:not([role]):not([class*="method"]) {
    color: var(--dark-text-secondary) !important;
}

/* Liens */
body.dark-mode a {
    color: var(--dark-accent) !important;
}

body.dark-mode a:hover {
    color: var(--dark-accent-secondary) !important;
    text-decoration: underline;
}

/* Tableaux */
body.dark-mode table {
    background-color: var(--dark-secondary) !important;
    border-color: var(--dark-border) !important;
}

body.dark-mode tr, 
body.dark-mode td, 
body.dark-mode th {
    background-color: var(--dark-secondary) !important;
    border-color: var(--dark-border) !important;
    color: var(--dark-text) !important;
}

body.dark-mode th {
    background-color: var(--dark-third) !important;
}

/* Code et exemples */
body.dark-mode code,
body.dark-mode pre {
    background-color: var(--dark-code-bg) !important;
    color: var(--dark-text) !important;
    border-color: var(--dark-border) !important;
}

body.dark-mode div[data-section-id] {
    background-color: var(--dark-primary) !important;
    border-color: var(--dark-border) !important;
}

/* Méthodes HTTP */
body.dark-mode span.operation-type {
    border-radius: 3px !important;
    padding: 4px 8px !important;
    font-weight: 600 !important;
}

body.dark-mode span.operation-type.get {
    background-color: var(--dark-method-get) !important;
    color: white !important;
}

body.dark-mode span.operation-type.post {
    background-color: var(--dark-method-post) !important;
    color: white !important;
}

body.dark-mode span.operation-type.delete {
    background-color: var(--dark-method-delete) !important;
    color: white !important;
}

body.dark-mode span.operation-type.put {
    background-color: var(--dark-method-put) !important;
    color: white !important;
}

body.dark-mode span.operation-type.patch {
    background-color: var(--dark-method-patch) !important;
    color: white !important;
}

/* Schémas */
body.dark-mode div[data-section-id*="operation/"] div[class*="schema"] {
    background-color: var(--dark-secondary) !important;
    border-color: var(--dark-border) !important;
}

body.dark-mode div[data-section-id*="operation/"] div[class*="schema"] span {
    color: var(--dark-text-secondary) !important;
}

/* Paramètres */
body.dark-mode div[data-section-id*="operation/"] table tbody tr td:first-child {
    color: var(--dark-text) !important;
}

/* Réponses */
body.dark-mode div[data-section-id*="operation/"] div[data-section-id*="responses"] {
    background-color: var(--dark-secondary) !important;
    border-color: var(--dark-border) !important;
}

/* Pied de page */
body.dark-mode div[role="contentinfo"] {
    background-color: var(--dark-secondary) !important;
    color: var(--dark-text-secondary) !important;
    border-top: 1px solid var(--dark-border) !important;
}

/* Bouton de toggle pour le mode sombre */
#dark-mode-toggle {
    position: fixed;
    top: 20px;
    right: 20px;
    padding: 10px 16px;
    background-color: var(--dark-accent);
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-size: 14px;
    z-index: 1000;
    display: flex;
    align-items: center;
    gap: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    transition: all 0.2s ease;
}

#dark-mode-toggle:hover {
    background-color: var(--dark-accent-secondary);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

#dark-mode-toggle svg {
    width: 18px;
    height: 18px;
}